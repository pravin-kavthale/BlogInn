{% extends "blog/base.html" %}
{% load static %}

{% block content %}
<div class="min-h-screen bg-[#1a1a2e]"> {# Overall dark background #}

    {# Header Section - Contains profile pic, username, fullname #}
    <div class="w-full flex flex-col items-start bg-gradient-to-r from-[#25507a] to-[#222e40] text-white py-16 px-8 relative">
        {# Profile Picture - no specific right padding, location determined by parent flex and px-8 #}
        <img src="{{ user.profile.image.url }}" class="w-[110px] h-[110px] rounded-xl border-3 border-white shadow-xl shadow-black/40 object-cover mb-2" />
        
        <div class="username text-3xl font-bold mt-[-10px] mb-1">{{ user.username }}</div>
        <div class="fullname text-lg opacity-90">{{ user.get_full_name }}</div>
    </div>

    {# Main Content Container - Pulled up with negative margin to overlap the header #}
    <div class="max-w-6xl mx-auto px-4 py-10 flex flex-col md:flex-row gap-x-8 -mt-20 relative z-10"> {# -mt-20 pulls it up, z-10 ensures it's above header #}
        {# Sidebar #}
        <div class="w-full md:w-56 bg-gray-200 rounded-xl p-5 shadow-md shadow-blue-900/10 h-fit mb-8 md:mb-0"> {# Added mb for mobile #}
            <a href="#" class="block mb-4 no-underline text-gray-800 font-medium py-2 hover:text-blue-600 transition-colors">Basic Info</a>
            <a href="{% url 'user-posts' user.username %}" class="block mb-4 no-underline text-gray-800 font-medium py-2 hover:text-blue-600 transition-colors">Posts</a>
            <a href="{%url 'notification' %}" class="block mb-4 no-underline text-gray-800 font-medium py-2 hover:text-blue-600 transition-colors">Notifications</a>
        </div>

        {# Content Area #}
        <div class="flex-1">
            <div class="info-card bg-gray-200 rounded-xl shadow-md shadow-black/10 p-8">
                <h3 class="mb-6 text-2xl font-semibold text-gray-800">Basic Info</h3>
                <div class="info-item flex justify-between items-center mb-4 text-base text-gray-700 flex-wrap"> {# Added flex-wrap for responsiveness #}
                    <span class="w-32 font-medium flex-shrink-0">Full Name:</span>
                    <span class="flex-grow text-right">{{ user.profile.fullname }}</span>
                </div>
                <div class="info-item flex justify-between items-center mb-4 text-base text-gray-700 flex-wrap">
                    <span class="w-32 font-medium flex-shrink-0">Email:</span>
                    <span class="flex-grow text-right">{{ user.email }}</span>
                </div>
                <div class="info-item flex justify-between items-center mb-4 text-base text-gray-700 flex-wrap">
                    <span class="w-32 font-medium flex-shrink-0">Gender:</span>
                    <span class="flex-grow text-right">{{ user.profile.gender }}</span>
                </div>
                <div class="info-item flex justify-between items-center mb-4 text-base text-gray-700 flex-wrap">
                    <span class="w-32 font-medium flex-shrink-0">Summary:</span>
                    <span class="flex-grow text-right">{{ user.profile.summary }}</span>
                </div>
                <div class="info-item flex justify-between items-center mb-4 text-base text-gray-700 flex-wrap">
                    <span class="w-32 font-medium flex-shrink-0">Joined On:</span>
                    <span class="flex-grow text-right">{{ user.date_joined|date:"F j, Y" }}</span>
                </div>
            </div>
            <div class="mt-6 text-right"> {# Adjusted margin-top and text-align #}
                <a href="{% url 'profileUpdate' %}"
                   class="inline-block px-6 py-2 border border-blue-500 text-blue-500 rounded-md
                          hover:bg-blue-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
                          transition duration-150 ease-in-out">
                    Edit Profile
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}